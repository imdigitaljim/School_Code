CC=cc
CPP=c++
LIBS=
COFLAGS=-g -O2
CWFLAGS=-Wall -Wextra
CIFLAGS=
CMFLAGS=
CFLAGS=$(CWFLAGS) $(COFLAGS) $(CIFLAGS) $(CMFLAGS)
all: attack_passwd attack_shadow vuln vuln2 vuln3
	sudo sysctl -w kernel.yama.protected_sticky_symlinks=0
	
vuln: vulp.o 
	$(CC) $(CFLAGS) -o vuln vulp.o
	
vuln2: vulp2.o 
	$(CC) $(CFLAGS) -o vuln2 vulp2.o

vuln3: vulp3.o 
	$(CC) $(CFLAGS) -o vuln3 vulp3.o
	
attack_passwd: attack_passwd.o 
	$(CC) $(CFLAGS) -o attack_passwd attack_passwd.o
	
attack_shadow: attack_shadow.o
	$(CC) $(CFLAGS) -o  attack_shadow attack_shadow.o

.c.o:
		$(CC) $(CFLAGS) -c $<
		
clean:
	rm -rf *.o vuln vuln2 vuln3 attack_passwd attack_shadow